<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8"/>
    <title>Eemelin Javascriptit</title>
    <link rel="stylesheet", type="text/css", href="CSS/main.css"/>
    <script src="JS/Navbar.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
</head>
<body>
<div class="navbar" id="navbar">
</div>

<div style="margin-top:100 px; top: 50px;border: 1px solid black;">
    <p id="pause" style="margin-top:50px">
        Something
    </p>
    <button onclick="alert('Deprecated, check console and press arrow keys');">
        click
    </button>
</div>

<div style="border: 1px solid black;margin-top:20px;">
    <button onclick="removeChildtest();">
        array removeChild
    </button>
    <div><p class="someStuff">this is a p element</p></div>
    <div><p class="someStuff">this is a p element</p></div>
    <div><p class="someStuff">this is a p element</p></div>
    <div><p class="someStuff">this is a p element</p></div>
    <p id="removechildinfo">the number of elements in the array is 4</p>
</div>
<div style="border: 1px solid black;margin-top:20px;">
    <canvas width="100" height="100" id="testCanvas">  </canvas>
    <script>
        var x = document.getElementById("testCanvas");
        var context = x.getContext("2d");
        context.arc(50,0,45,0,Math.PI);
        context.fillStyle = "black";
        context.fill();
        context.moveTo(50,100);
        context.arc(50,100,45,Math.PI,Math.PI*2);
        context.fill();
    </script>
</div>

<div id="elementTesting" style="border: 1px solid black;margin-top:20px;">
    <div>

    </div>
    <div>
        
        <ol>
            <li class="list">
                list element.
            </li>
            <li class="list">
                list element 2
            </li>
            <li class="list"></li>
            <li class="list" id="whitespace">
                  </li>
        </ol>
    </div>
    <button onclick="elementarray()">click here</button>
</div>
<div style="border: 1px solid black;margin-top:20px;">
    <p id ="Okku">
        <button onclick="printDescending()">Print Descending</button>
    
    </p>
</div>
<div style="border: 1px solid black;margin-top:20px;">
    <p id="objectp">

    </p>
    <button onclick="displayObjects();">Display current list of objects</button>
    <button onclick="createObs();">Create Objects</button>
    <button onclick="sortValue1();">Sort Objects by the first value</button>
    <button onclick="sortValue12();">Sort Objects by the first value backwards</button>
    <button onclick="sortValue2();">Sort Objects by their second value</button>
    <button onclick="sortValue22();">Sort Objects by their second value</button>
</div>
<div id="loop define variable" style="margin-top:20px; border: 1px solid black;">
<button id="loop def" onclick="loopdefvar();">variable defined inside loop</button>
<p id="ldfout"></p>
</div>
<!--this bit is the examples from what Mai remembers-->
<div id="mai" style="margin-top:20px; border: 1px solid black;">
    <h3>Start of scripts for Mai</h3>
    <div id="mai1" style="border:1px solid black;margin:20px;">
        <button onclick="createObject()">Objecttest</button>
        <p id="maiout1"></p>
    </div>
    <div id="mai2" style="border:1px solid black;margin:20px;">
        <button></button>
    </div>
</div>
<!--************Start of scripts************************************************ -->
<script>
//Everything inside this script tag is for what Mai remembers from the test


//Object constructor -- usage is
//var x = new testOb(y, z)
//where y and z are any integers
class testOb{
    constructor(a, b) {
        this.value1 = a;
        this.value2 = b;
        //checking to make sure the values are in the right order
        if (b-a < 0) {
            var x = a;
            a = b;
            b = x;
        }
        //checking if the values are the same
        if (a == b) {
            this.valuer = a;
        }
        //creating random number between the two inputs
        else {
            this.valuer =
                //Math.random returns a random number between 0 and 1
                //this number is multiplied by the range, aka bigger input(b) minus smaller input(a)
                //then this number between 0 and whatever the range is gets added to smaller input so the result is a random int from a to b
                //Math.floor just rounds it down, we dont need a +1 because we are adding a
                Math.floor(
                    Math.random()*(b-a)+a
                )
            ;
        }
    }
}
//function called by button already on the page
function createObject() {
    //set up input values from user
    //newlines used inside quotes for readability
    var x = document.getElementById("maiout1");
    //this .innerHTML function adds 3 input fields and a button to call the next function which will analyze them
    x.innerHTML = "This function will create a specified number of objects with two random values each.<br>\
    These random values will fall between the range set by the user below.<br>\
    Number of objects:<br>\
    <input id='maiin1' value='number of objects' onclick='this.value = \"\"'/><br>\
    Range from :<br>\
    <input id='maiin2' value='start of range' onclick='this.value = \"\"'/><br>\
    To:<br>\
    <input id='maiin3' value='end of range'  onclick='this.value = \"\"'/><br>\
    <button onclick='createObject2();'>Submit</button>";
}
//function called by button submitting info
    //declaring list of objects
    var maioblist = [];
    //switched to global variable cause I messed up
function createObject2() {
    //number of objects to make
    var n = parseInt(document.getElementById("maiin1").value);
    //start of range for random values
    var s = parseInt(document.getElementById("maiin2").value);
    //end of range
    var e = parseInt(document.getElementById("maiin3").value);
    //find output
    var o = document.getElementById("maiout1");
    for (var i = 0 ; i < n ; i++) {
        maioblist[i] = new testOb(s,e);
    }
    //clear screen and display objects
    o.innerHTML = "";
    //side note: this entire for loop could be replace with o.innerHTML=JSON.stringify(maioblist); but I figured that could be confusing
    for (var i = 0 ; i < n ; i++) {
        o.insertAdjacentHTML("beforeend", "maioblist["+i+"] contains the object:<br>\
        {value1:"+maioblist[i].value1+", value2:"+maioblist[i].value2+", valuer:"+maioblist[i].valuer+"}<br>");
    }
    o.insertAdjacentHTML("beforeend","where value1 and value2 are the inputted range, and valuer is the outputted random int<br>\
    <button onclick='createObject3()'>consolelog some object math</button>");
}
function createObject3() {
    var o = document.getElementById("maiout1");
    //JSON.stringify turns the list of objects into a readable string
    var x = JSON.stringify(maioblist);
    //making the object list more readable with specified indexes and spacing
    var a = false;
    //a is not required here, but is a failsafe against an infinite while loop
    var i = 0;
    //I cant use a for loop here(at least not easily) so I'm using manual incrementing
    var y = []
    //declaring the list of strings representing objects

    //this while loop splits the string of objects into individual strings with just one object each. I later realized this was very ineffective
    //a better solution would simply be
    //for (var i = 0; i < maioblist.length ; i++) {y[i] = JSON.stringify(maioblist[i]);}
    while (a == false) {
        if (!x.includes("},{")) {
            y[i] = x;
            a = true;
            break;
        }
        var obpos = x.indexOf("},{");
        y[i] = x.slice(0,obpos+1);
        x = x.slice(obps+2);
        i++; 
    }
    //var y = x.split(",");
    o.innerHTML = "";
    for (var i = 0 ; i < y.length ; i++) {
        o.insertAdjacentHTML("beforeend", "Object "+(i+1)+" = "+y[i]+"<br>");
    }
    //setting up user input for next function
    o.insertAdjacentHTML("beforeend","<br>type in values you want to use in format \"objectNumber.valuename\" for example: '2.valuer' or '1.value2'<br>This will output to the console.<br>\
    <input id = 'maiin1' value='value 1' onclick='this.value=\"\"'/><br>\
    <input id = 'maiin2' value='value 2' onclick='this.value=\"\"'/><br>\
    <button onclick=CO('m');>Multiply</button><br>\
    <button onclick=CO('d');>Divide</button><br>\
    <button onclick=CO('a');>Add</button><br>\
    <button onclick=CO('s');>Subtract</button><br>\
    ");
}
function CO(m) {
    //function called by buttons with the local variable m being an argument passed by the buttons. used to see which operation to use
    var vr = document.getElementById("maiin1").value;
    //splitting the string so we have the object's index in the array (+1, because user doesn't know the array is from 0 to length-1)
    //split returns an array with 2 strings, one from either side of the .
    //x1[0] holds object index in array
    //x1[1] holds the name of the value we want from the object 
    var x1 = vr.split(".");
    //obn1 is the proper index of the object
    var obn1 = parseInt(x1[0])-1;
    //switch case to determine which value was requested
    switch (x1[1]) {
        case "value1":
            var v1 = maioblist[obn1].value1;
            break;
        case "value2":
            var v1 = maioblist[obn1].value2;
            break;
        case "valuer":
            var v1 = maioblist[obn1].valuer;
            break;
        default:
            console.log("There was a problem resolving the value type to return. The input must be value1, value2, or valuer");
    }
    //repeat for second value
    //reusing vr variable becase it saves space
    vr = document.getElementById("maiin2").value;
    var x2 = vr.split(".");
    var obn2 = parseInt(x2[0])-1;
    switch (x2[1]) {
        case "value1":
            var v2 = maioblist[obn2].value1;
            break;
        case "value2":
            var v2 = maioblist[obn2].value2;
            break;
        case "valuer":
            var v2 = maioblist[obn2].valuer;
            break;
        default:
            console.log("There was a problem resolving the value type to return. The input must be value1, value2, or valuer");
    }
    //final switch case that operates off of which button was pressed (argument m)
    //displays comprehensive text detailing what happened
    switch(m) {
        case "m":
            console.log("the result of maioblist["+obn1+"]."+x1[1]+" * maioblist["+obn2+"]."+x2[1]+" ("+v1+"*"+v2+") = "+(v1*v2));
            console.log("or more simply, a.b * c.d = int");
            break;
        case "d":
            console.log("the result of maioblist["+obn1+"]."+x1[1]+" / maioblist["+obn2+"]."+x2[1]+" ("+v1+"/"+v2+") = "+(v1/v2));
            console.log("or more simply, a.b / c.d = float");
            break;
        case "a":
            console.log("the result of maioblist["+obn1+"]."+x1[1]+" + maioblist["+obn2+"]."+x2[1]+" ("+v1+"+"+v2+") = "+(v1+v2));
            console.log("or more simply, a.b + c.d = int");
            break;
        case "s":
            console.log("the result of maioblist["+obn1+"]."+x1[1]+" - maioblist["+obn2+"]."+x2[1]+" ("+v1+"-"+v2+") = "+(v1-v2));
            console.log("or more simply, a.b - c.d = int");
            break;
    }
}
//end of scripts for Mai
</script>
<script>
function loopdefvar () {
    var x = document.getElementById("ldfout");
    x.innerHTML = "";
    for (var i = 0; i < 6; i++) {
        x.insertAdjacentHTML("beforeend", i+"<br>");
    }
    x.insertAdjacentHTML("beforeend", i);
}
</script>
<script>
    var objectList = [];
    function displayObjects() {
        var x = document.getElementById("objectp");
        var y = "<br><table><tr><th>Name</th><th>Value 1</th><th>Value 2</th></tr>";
        //console.log(y);
        console.log(objectList)
        for (var i = 0; i < objectList.length; i++) {
            y += "<tr><td>objectList["+i+"]</td><td>"+objectList[i].value1+"</td><td>"+objectList[i].value2+"</td></tr>";
            //console.log(y);
        }
        y += "</table>"
        x.innerHTML = y;
    }
    function countObject(x, y) {
            this.value1 = x;
            this.value2 = y;
        }
    function createObs() {
        for (var i = 0; i<5; i++) {
            objectList[i] = new countObject(i, -i)
        }
    }
    function sortValue1() {
        console.log("sortValue1")
        objectList.sort(function (a,b) {return a.value1 - b.value1});
    }
    function sortValue12() {
        objectList.sort(function (a,b) {return b.value1 - a.value1});
    }
    function sortValue2() {
        objectList.sort(function (a,b) {return a.value2 - b.value2});
    }
    function sortValue22() {
        objectList.sort(function (a,b) {return b.value2 - a.value2});
    }
</script>

<script>
    function printDescending() {
        for (var i = 5; i > -1; i--) {
            document.getElementById("Okku").insertAdjacentHTML("beforeend", "<br>"+i+",");
        }
    }
</script>


<script>
    function elementarray() {
        var el = document.getElementsByClassName("list");
        var ce = [];
        console.log("htmldom object"+el);
        console.log(el)
        for (var i = 0; i < el.length; i++) {
            if (el[i].firstChild) {
                ce[ce.length] = el[i];
                console.log(el[i].firstChild)
                console.log("html element from original object"+el[i]);
                console.log("html element in array needs children"+ce[i]);
                console.log(ce[i]);
            }
        }
        console.log("array of elements with children"+ce);
        console.log(ce);
        
    }
</script>
<script>
var dir = "0";
document.addEventListener("keydown", keyPress);
//function change(){    
//    alert(dir);
//    if(dir !== "0"){
//    document.getElementById("pause").innerHTML = dir;
//    }   
//}
function keyPress(event) {
    var x = event.keyCode;
    switch(x) {
        case 37:
            console.log("1");
            dir = "1";
            break;
        case 38:
            console.log("2");
            dir = "2";
            break;
        case 39:
            console.log("3");
            dir = "3";
            break;
        case 40:
            console.log("4");
            dir = "4";
    }
    //console.log(dir);
}

//remove child in array test

function removeChildtest() {
    var elementArray = document.getElementsByClassName("someStuff");
    console.log("the number of elements in the array is "+elementArray.length);
    elementArray[0].parentNode.removeChild(elementArray[0]);
    console.log("the number of elements in the array is "+elementArray.length);
}

</script>
<script>NavBar();</script>
</body>

</html>